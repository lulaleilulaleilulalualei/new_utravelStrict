(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/optAddress/optAddress"],{"11f6":function(e,t,i){"use strict";i.r(t);var s=i("12d1"),n=i("2df1");for(var a in n)"default"!==a&&function(e){i.d(t,e,function(){return n[e]})}(a);i("9997");var r=i("2877"),d=Object(r["a"])(n["default"],s["a"],s["b"],!1,null,"778aaaf8",null);t["default"]=d.exports},"12d1":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement;e._self._c},n=[];i.d(t,"a",function(){return s}),i.d(t,"b",function(){return n})},"2df1":function(e,t,i){"use strict";i.r(t);var s=i("ac49"),n=i.n(s);for(var a in s)"default"!==a&&function(e){i.d(t,e,function(){return s[e]})}(a);t["default"]=n.a},"3aee":function(e,t,i){},"4f9c":function(e,t,i){"use strict";(function(e){i("610e"),i("921b");s(i("66fd"));var t=s(i("11f6"));function s(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("543d")["createPage"])},9997:function(e,t,i){"use strict";var s=i("3aee"),n=i.n(s);n.a},ac49:function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=i("2f62");function n(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},s=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),s.forEach(function(t){a(e,t,i[t])})}return e}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r={data:function(){return{userName:"",userTel:"",region:["北京市","北京市","东城区"],customItem:"",isSelectPicker:!1,detailAddress:"",typeTitle:"添加新收货地址",isDefAddress:!1,optType:"",infoObj:null}},computed:n({},(0,s.mapGetters)(["addressObj"])),onLoad:function(e){this.addressObj&&(this.infoObj=this.addressObj),"add"==e.type?this.typeTitle="添加新收货地址":"edit"==e.type&&(this.typeTitle="编辑收货地址",this.userName=this.infoObj.name,this.userTel=this.infoObj.tel,this.region=[this.infoObj.province,this.infoObj.city,this.infoObj.area],this.detailAddress=this.infoObj.address,this.isDefAddress=1==this.infoObj.is_default,this.isSelectPicker=!0,this.toGetAddressObj(null)),this.optType=e.type},methods:n({},(0,s.mapActions)(["toGetAddressObj"]),{bindPickerChange:function(e){this.isSelectPicker=!0,this.region=e.detail.value},bindAddessSwitch:function(e){this.isDefAddress=e.detail.value},formSubmit:function(e){var t=e.detail.value;""!=this.$api.trim(t.userName)?this.$api.inputTest(t.userTel,"tel")&&(this.isSelectPicker?""!=this.$api.trim(t.detailAddress)?(this.userName=t.userName,this.userTel=t.userTel,this.detailAddress=t.detailAddress,this.optAddressMay()):this.$api.warnNotice("详细地址不能为空"):this.$api.warnNotice("请选择所在地区")):this.$api.warnNotice("收货人不能为空")},optAddressMay:function(){var t=this,i={name:this.userName,tel:this.userTel,province:this.region[0],city:this.region[1],area:this.region[2],address:this.detailAddress,is_default:this.isDefAddress?1:0};"edit"==this.optType&&(i.adr_id=this.infoObj.adr_id),this.$api.ajax({url:"add"==this.optType?this.$config.addAddress:this.$config.updateAddress,method:"add"==this.optType?"POST":"PUT",data:i}).then(function(i){200==i.statusCode&&0==i.data.code?e.showToast({title:"操作成功",icon:"success",mask:!0,success:function(){setTimeout(function(){t.isDefAddress&&t.$api.userLogin(function(){}),e.navigateBack({delta:1})},1500)}}):t.$api.warnNotice(i.data.message)}).catch(function(e){t.$api.warnNotice("操作失败")})}})};t.default=r}).call(this,i("543d")["default"])}},[["4f9c","common/runtime","common/vendor"]]]);