(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/applyInvoice/applyInvoice"],{"0726":function(i,e,t){"use strict";(function(i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={data:function(){return{invoiceType:[{name:"不需要发票",textIntro:"",type:0,intro:"发票由 湖南省同程亲和力旅游国际旅行社有限公司 开具，发票金额不含优惠券支付部分。"},{name:"电子发票",textIntro:"免费",type:1,intro:"发票由 湖南省同程亲和力旅游国际旅行社有限公司 开具，发票金额不含优惠券支付部分。电子发票将在游玩结束后1个工作日内发送至您的邮箱。"},{name:"纸质发票",textIntro:"快递￥10",type:2,intro:"发票由 湖南省同程亲和力旅游国际旅行社有限公司 开具，发票金额不含优惠券或礼品卡支付部分。纸质发票预计将于游玩结束后3-7个工作日内以快递方式送达。"}],changeInvoiceType:0,btnText:"保存",invoiceNotice:"",invoiceTitle:"",invoiceCode:"",emailUrl:"",address:null}},onLoad:function(){var e=this;i.getSetting({success:function(t){t.authSetting["scope.invoiceTitle"]&&i.chooseInvoiceTitle({sucess:function(i){e.invoiceTitle=i.title,e.invoiceCode=i.taxNumber}})}})},methods:{cutInvoiceType:function(i){var e=this;this.invoiceType.map(function(t,n){i==n&&(e.changeInvoiceType=t.type,e.invoiceNotice=t.intro,0==t.type?e.btnText="保存":e.btnText="索取")})},getInvoiceTitle:function(i){this.invoiceTitle=this.$api.trim(i.detail.value)},getInvoiceCode:function(i){this.invoiceCode=this.$api.trim(i.detail.value)},getEmailUrl:function(i){this.emailUrl=this.$api.trim(i.detail.value)},getWxInvoice:function(){var e=this;i.authorize({scope:"scope.invoiceTitle",success:function(){i.chooseInvoiceTitle({success:function(i){e.invoiceTitle=i.title,e.invoiceCode=i.taxNumber},fail:function(){e.$api.warnNotice("获取发票抬头失败,请重新获取")}})},fail:function(){e.$api.warnNotice("您已拒绝获取发票授权")}})},jumpToSendAddress:function(){i.navigateTo({url:"/pages/addressList/addressList"})},bindGetInvoice:function(){var i={title:this.data.invoiceTitle,taxNumber:this.data.invoiceCode};""!=this.invoiceTitle?""!=this.invoiceCode?1==this.changeInvoiceType?this.$api.inputTest(this.emailUrl,"mail")&&this.applyInvoiceInfo(i):2==this.changeInvoiceType&&(this.addressObj?this.applyInvoiceInfo(i):this.$api.warnNotice("请填写配送地址")):this.$api.warnNotice("请填写纳税人识别号"):this.$api.warnNotice("请填写发票抬头")},applyInvoiceInfo:function(){}}};e.default=t}).call(this,t("543d")["default"])},"1b66":function(i,e,t){"use strict";t.r(e);var n=t("0726"),o=t.n(n);for(var c in n)"default"!==c&&function(i){t.d(e,i,function(){return n[i]})}(c);e["default"]=o.a},"2bf8":function(i,e,t){},"4d4e":function(i,e,t){"use strict";var n=function(){var i=this,e=i.$createElement;i._self._c},o=[];t.d(e,"a",function(){return n}),t.d(e,"b",function(){return o})},ad4a:function(i,e,t){"use strict";(function(i){t("610e"),t("921b");n(t("66fd"));var e=n(t("cf5b"));function n(i){return i&&i.__esModule?i:{default:i}}i(e.default)}).call(this,t("543d")["createPage"])},cf5b:function(i,e,t){"use strict";t.r(e);var n=t("4d4e"),o=t("1b66");for(var c in o)"default"!==c&&function(i){t.d(e,i,function(){return o[i]})}(c);t("fe38");var a=t("2877"),u=Object(a["a"])(o["default"],n["a"],n["b"],!1,null,"56735ca9",null);e["default"]=u.exports},fe38:function(i,e,t){"use strict";var n=t("2bf8"),o=t.n(n);o.a}},[["ad4a","common/runtime","common/vendor"]]]);